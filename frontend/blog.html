<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Blog | Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="main-stage">
        <div class="glass-panel">
            <nav class="panel-nav">
                <div class="nav-brand">PORTFOLIO V3</div>
                <a href="index.html" class="nav-link">Home</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="education.html" class="nav-link">Education</a>
                <a href="experience.html" class="nav-link">Experience</a>
                <a href="projects.html" class="nav-link">Projects</a>
                <a href="blog.html" class="nav-link active">Blog</a>
                <a href="glance.html" class="nav-link">Resume</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </nav>
            <div class="panel-body">
                <h2 class="hacker-text" data-value="THOUGHTS" onmouseover="window.hackText(this)" style="font-size:3rem; margin-bottom:50px;">THOUGHTS</h2>
                <div id="blogGrid" style="display:grid; grid-template-columns:repeat(auto-fill, minmax(350px, 1fr)); gap:30px;"></div>
            </div>
        </div>
    </div>
    <div class="social-sidebar"><a href="#" class="social-icon"><i class="fab fa-github"></i></a></div>
    <button id="mobileToggle"><i class="fas fa-bars"></i></button>
    <script src="script.js"></script>
    <script>
        async function loadPosts() {
            try {
                const res = await fetch(`../backend/blog_handler.php?action=fetch_all`);
                const data = await res.json();
                document.getElementById('blogGrid').innerHTML = data.map(b => `
                    <div class="card-3d" style="display:flex; flex-direction:column; height:100%;">
                        <div class="mono" style="color:var(--neon-pink); font-size:0.8rem; margin-bottom:10px;">${b.category || 'Tech'}</div>
                        <h3 style="font-size:1.5rem; margin-bottom:15px;">${b.title}</h3>
                        <p style="opacity:0.7; font-size:0.95rem; flex-grow:1; margin-bottom:20px;">${b.excerpt}</p>
                        <button class="btn-google btn-yellow" onclick="window.open('${b.external_link || '#' }')">READ ARTICLE</button>
                    </div>
                `).join('');
            } catch (e) {}
        }
        loadPosts();
    </script>
</body>

</html>