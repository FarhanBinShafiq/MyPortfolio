<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Projects | Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="main-stage">
        <div class="glass-panel">
            <nav class="panel-nav">
                <div class="nav-brand">PORTFOLIO V3</div>
                <a href="index.html" class="nav-link">Home</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="education.html" class="nav-link">Education</a>
                <a href="experience.html" class="nav-link">Experience</a>
                <a href="projects.html" class="nav-link active">Projects</a>
                <a href="blog.html" class="nav-link">Blog</a>
                <a href="glance.html" class="nav-link">Resume</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </nav>
            <div class="panel-body">
                <h2 class="hacker-text" data-value="SELECTED WORKS" onmouseover="window.hackText(this)" style="font-size:3rem; margin-bottom:50px;">SELECTED WORKS</h2>
                <div id="projectsGrid" style="display:grid; grid-template-columns:repeat(auto-fill, minmax(320px, 1fr)); gap:30px;"></div>
            </div>
        </div>
    </div>
    <div class="social-sidebar"><a href="#" class="social-icon"><i class="fab fa-github"></i></a></div>
    <button id="mobileToggle"><i class="fas fa-bars"></i></button>
    <script src="script.js"></script>
    <script>
        async function loadProjects() {
            try {
                const res = await fetch(`../backend/projects_handler.php?action=fetch_all`);
                const data = await res.json();
                document.getElementById('projectsGrid').innerHTML = data.map(p => `
                    <div class="card-3d">
                        <img src="${p.image_url || 'https://placehold.co/400'}" style="width:100%; height:200px; object-fit:cover; border-radius:15px; margin-bottom:20px;">
                        <h3 style="margin-bottom:10px; font-size:1.4rem;">${p.title}</h3>
                        <div style="display:flex; flex-wrap:wrap; gap:8px; margin-bottom:20px;">
                            ${p.tags ? p.tags.split(',').map(t => `<span class="mono" style="font-size:0.7rem; background:rgba(255,255,255,0.1); padding:4px 10px; border-radius:8px;">${t.trim()}</span>`).join('') : ''}
                        </div>
                        <p style="opacity:0.7; font-size:0.9rem; margin-bottom:25px;">${p.description}</p>
                        <div style="display:flex; gap:12px;">
                            ${p.demo_link ? `<button class="btn-google btn-blue" onclick="window.open('${p.demo_link}')">Demo</button>` : ''}
                            ${p.repo_link ? `<button class="btn-google btn-green" onclick="window.open('${p.repo_link}')">Code</button>` : ''}
                        </div>
                    </div>
                `).join('');
            } catch(e) {}
        }
        loadProjects();
    </script>
</body>

</html>